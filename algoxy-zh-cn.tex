\documentclass[zihao=5, b5paper, twoside, heading=true, punct=kaiming]{ctexbook}
\usepackage[
  nomarginpar
  %, margin=.5in
  , top=1.5cm, bottom=1.5cm, left=2cm, right=2cm
]{geometry}

% ==================== Book flag==========================

\global\let\wholebook=\relax %without relax, we build article, esle book

\usepackage[cn]{prelude}

\setcounter{page}{1}

\graphicspath{
	{img/}
    {others/preface/}
	{datastruct/tree/binary-search-tree/}
    {sorting/insertion-sort/}
	{datastruct/tree/red-black-tree/}
    {datastruct/tree/AVL-tree/}
	{datastruct/tree/trie/}
    {datastruct/tree/suffix-tree/}
    {datastruct/tree/B-tree/}
    {datastruct/heap/binary-heap/}
    {sorting/select-sort/}
    {sorting/dc-sort/}
    {datastruct/heap/other-heaps/}
    {datastruct/elementary/queue/}
    {datastruct/elementary/sequence/}
    {search/}
    {others/appendix/list/}
}

\makeindex

\begin{document}

% set PDF properties
\hypersetup{pdftitle={algoxy},%
            pdfauthor={liuxinyu99@hotmail.com},%
            pdfsubject={Computer Science},%
            pdfkeywords={Algorithm, Programming}}

% ================================================================
%                 COVER PAGE
% ================================================================

\title{
  {\bf \Huge 基本函数式算法}
  \centering
  \scalebox{0.4}{\includegraphics{img/fibonacci-spiral}}
}

\author{刘新宇
  \thanks{{\bfseries 刘新宇} \newline
    Version: $\displaystyle e = \sum \limits _{n=0}^{\infty }{\frac {1}{n!}} = 1 + {\frac {1}{1}}+{\frac {1}{1\cdot 2}}+{\frac {1}{1\cdot 2\cdot 3}}+\cdots = 2.718283$ \newline
    \url{https://github.com/liuxinyu95} \newline
    }}

\maketitle

\frontmatter
\subimport{others/preface/}{preface-zh-cn.tex}
\newpage

\tableofcontents

\mainmatter

\subimport{others/appendix/list/}{list-zh-cn.tex}

\subimport{datastruct/tree/binary-search-tree/}{bstree-zh-cn.tex}

\subimport{sorting/insertion-sort/}{isort-zh-cn.tex}

\subimport{datastruct/tree/red-black-tree/}{rbtree-zh-cn.tex}

\subimport{datastruct/tree/AVL-tree/}{avltree-zh-cn.tex}

\subimport{datastruct/tree/trie/}{trie-zh-cn.tex}

\subimport{datastruct/tree/B-tree/}{btree-zh-cn.tex}

\subimport{datastruct/heap/binary-heap/}{bheap-zh-cn.tex}

\subimport{sorting/select-sort/}{ssort-zh-cn.tex}

\subimport{datastruct/heap/other-heaps/}{kheap-zh-cn.tex}

\subimport{datastruct/elementary/queue/}{queue-zh-cn.tex}

\subimport{datastruct/elementary/sequence/}{sequence-zh-cn.tex}

\subimport{sorting/dc-sort/}{dcsort-zh-cn.tex}

\subimport{search/}{search-zh-cn.tex}

\appendix

\subimport{others/appendix/rbt-del/}{rbt-del-zh-cn.tex}

\subimport{others/appendix/avltree/}{avl-proof-zh-cn.tex}

%\subimport{datastruct/tree/suffix-tree/}{stree-zh-cn.tex}

\chapter{参考答案}
\label[appendix]{ch:answers}
\phantomsection
\shipoutAnswer

\subimport{others/appendix/}{bib-zh-cn.tex}

\backmatter
\phantomsection
\addcontentsline{toc}{chapter}{\indexname}
\printindex

\subimport{}{fdl-1.3.tex}
\end{document}
